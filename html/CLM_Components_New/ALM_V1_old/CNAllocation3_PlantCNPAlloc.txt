sub_param, num_soilp:4, bounds:1, cnstate_vars:7, phosphorusflux_vars:15, num_soilc:2, canopystate_vars:6, filter_soilp:5, nitrogenstate_vars:12, carbonstate_vars:8, c14_carbonflux_vars:11, nitrogenflux_vars:13, phosphorusstate_vars:14, carbonflux_vars:9, c13_carbonflux_vars:10, filter_soilc:3
sub_out
global_ro| pft%itype, itype, NONE| ecophyscon%fcur, fcur2, NONE| ecophyscon%stem_leaf, stem_leaf, NONE| cnstate_vars%astem_patch, astem, NONE| c13cf%psnsun_to_cpool_patch, psnsun_to_cpool_patch, NONE| c14cf%psnsun_to_cpool_patch, psnsun_to_cpool_patch, NONE| ecophyscon%graincp, graincp, NONE| phosphorusstate_vars%leafp_patch, leafp, NONE| carbonflux_vars%w_scalar_col, w_scalar, NONE| cnstate_vars%annsum_potential_gpp_patch, annsum_potential_gpp, NONE| carbonflux_vars%leaf_mr_patch, leaf_mr, NONE| cnstate_vars%cp_scalar, cp_scalar, NONE| carbonstate_vars%leafc_storage_patch, leafc_storage, NONE| nitrogenflux_vars%smin_no3_to_plant_patch, smin_no3_to_plant_patch, NONE| cnstate_vars%cn_scalar, cn_scalar, NONE| cnstate_vars%annmax_retransn_patch, annmax_retransn, NONE| ecophyscon%leafcp, leafcp, NONE| cnstate_vars%fpg_p_col, fpg_p, NONE| ecophyscon%nstor, nstor, NONE| carbonflux_vars%allocation_froot, allocation_froot, NONE| pft%wtcol, wtcol, NONE| phosphorusstate_vars%leafp_storage_patch, leafp_storage, NONE| ecophyscon%livewdcn, livewdcn, NONE| ecophyscon%deadwdcp, deadwdcp, NONE| ecophyscon%livewdcp, livewdcp, NONE| phosphorusflux_vars%sminp_to_plant_col, sminp_to_plant, NONE| nitrogenstate_vars%leafn_patch, leafn, NONE| ecophyscon%froot_leaf, froot_leaf, NONE| cnstate_vars%aleaf_patch, aleaf, NONE| nitrogenflux_vars%sminn_to_plant_col, sminn_to_plant, NONE| cnstate_vars%fpg_col, fpg, NONE| ecophyscon%frootcp, frootcp, NONE| cnstate_vars%croplive_patch, croplive, NONE| pft%column, column, NONE| carbonflux_vars%livecroot_mr_patch, livecroot_mr, NONE| nitrogenflux_vars%plant_ndemand_patch, plant_ndemand, NONE| phosphorusstate_vars%leafp_xfer_patch, leafp_xfer, NONE| phosphorusstate_vars%retransp_patch, retransp, NONE| ecophyscon%graincn, graincn, NONE| cnstate_vars%grain_flag_patch, grain_flag, NONE| carbonflux_vars%allocation_leaf, allocation_leaf, NONE| ecophyscon%woody, woody, NONE| nitrogenstate_vars%retransn_patch, retransn, NONE| carbonflux_vars%allocation_stem, allocation_stem, NONE| ecophyscon%flivewd, flivewd, NONE| nitrogenstate_vars%leafn_xfer_patch, leafn_xfer, NONE| phosphorusflux_vars%plant_pdemand_patch, plant_pdemand, NONE| ecophyscon%deadwdcn, deadwdcn, NONE| carbonflux_vars%grain_mr_patch, grain_mr, NONE| nitrogenflux_vars%sminn_to_plant_patch, sminn_to_plant_patch, NONE| carbonflux_vars%annsum_npp_patch, annsum_npp, NONE| nitrogenstate_vars%npool_patch, npool, NONE| phosphorusflux_vars%sminp_to_plant_patch, sminp_to_plant_patch, NONE| nitrogenstate_vars%leafn_storage_patch, leafn_storage, NONE| carbonflux_vars%livestem_mr_patch, livestem_mr, NONE| carbonflux_vars%gpp_before_downreg_patch, gpp, NONE| carbonstate_vars%leafc_patch, leafc, NONE| cnstate_vars%annmax_retransp_patch, annmax_retransp, NONE| ecophyscon%croot_stem, croot_stem, NONE| cnstate_vars%froot_prof_patch, froot_prof, NONE| pft%itype, ivt, NONE| carbonflux_vars%froot_mr_patch, froot_mr, NONE| carbonstate_vars%leafc_xfer_patch, leafc_xfer, NONE| nitrogenflux_vars%smin_nh4_to_plant_patch, smin_nh4_to_plant_patch, NONE| c14cf%psnshade_to_cpool_patch, psnshade_to_cpool_patch, NONE| c13cf%psnshade_to_cpool_patch, psnshade_to_cpool_patch, NONE| carbonstate_vars%xsmrpool_patch, xsmrpool, NONE| ecophyscon%frootcn, frootcn, NONE| ecophyscon%leafcn, leafcn, NONE
global_wo| carbonflux_vars%livestem_xsmr_patch, livestem_xsmr, NONE| carbonflux_vars%cpool_to_gresp_storage_patch, cpool_to_gresp_storage, NONE| c13cf%psnsun_to_cpool_patch, psnsun_to_cpool_patch, NONE| c14cf%psnsun_to_cpool_patch, psnsun_to_cpool_patch, NONE| carbonflux_vars%livecroot_xsmr_patch, livecroot_xsmr, NONE| carbonflux_vars%froot_xsmr_patch, froot_xsmr, NONE| c14cf%psnshade_to_cpool_patch, psnshade_to_cpool_patch, NONE| c13cf%psnshade_to_cpool_patch, psnshade_to_cpool_patch, NONE| carbonflux_vars%leaf_xsmr_patch, leaf_xsmr, NONE| carbonflux_vars%grain_xsmr_patch, grain_xsmr, NONE
global_mod| phosphorusflux_vars%supplement_to_sminp_vr_col, supplement_to_sminp_vr, NONE| carbonflux_vars%cpool_to_livecrootc_patch, cpool_to_livecrootc, NONE| phosphorusflux_vars%sminp_to_ppool_patch, sminp_to_ppool, NONE| nitrogenflux_vars%npool_to_grainn_patch, npool_to_grainn, NONE| carbonflux_vars%xsmrpool_recover_patch, xsmrpool_recover, NONE| nitrogenflux_vars%smin_nh4_to_plant_vr_col, smin_nh4_to_plant_vr, NONE| phosphorusflux_vars%plant_p_uptake_flux, plant_p_uptake_flux, NONE| nitrogenflux_vars%retransn_to_npool_patch, retransn_to_npool, NONE| carbonflux_vars%cpool_to_frootc_storage_patch, cpool_to_frootc_storage, NONE| carbonflux_vars%psnshade_to_cpool_patch, psnshade_to_cpool, NONE| carbonflux_vars%plant_calloc_patch, plant_calloc, NONE| carbonflux_vars%grain_curmr_patch, grain_curmr, NONE| cnstate_vars%p_allometry_patch, p_allometry, NONE| carbonflux_vars%cpool_to_deadstemc_patch, cpool_to_deadstemc, NONE| phosphorusflux_vars%ppool_to_frootp_patch, ppool_to_frootp, NONE| carbonflux_vars%cpool_to_leafc_patch, cpool_to_leafc, NONE| carbonflux_vars%psnsun_to_cpool_patch, psnsun_to_cpool, NONE| cnstate_vars%n_allometry_patch, n_allometry, NONE| phosphorusflux_vars%ppool_to_deadcrootp_patch, ppool_to_deadcrootp, NONE| nitrogenflux_vars%npool_to_leafn_storage_patch, npool_to_leafn_storage, NONE| phosphorusflux_vars%ppool_to_deadstemp_patch, ppool_to_deadstemp, NONE| phosphorusflux_vars%sminp_to_plant_vr_col, sminp_to_plant_vr, NONE| carbonflux_vars%livecroot_curmr_patch, livecroot_curmr, NONE| nitrogenflux_vars%supplement_to_sminn_vr_col, supplement_to_sminn_vr, NONE| nitrogenflux_vars%plant_nalloc_patch, plant_nalloc, NONE| nitrogenflux_vars%sminn_to_plant_vr_col, sminn_to_plant_vr, NONE| phosphorusflux_vars%ppool_to_leafp_storage_patch, ppool_to_leafp_storage, NONE| nitrogenflux_vars%npool_to_leafn_patch, npool_to_leafn, NONE| carbonflux_vars%cpool_to_leafc_storage_patch, cpool_to_leafc_storage, NONE| nitrogenflux_vars%npool_to_deadstemn_storage_patch, npool_to_deadstemn_storage, NONE| nitrogenflux_vars%npool_to_deadcrootn_patch, npool_to_deadcrootn, NONE| phosphorusflux_vars%ppool_to_livestemp_patch, ppool_to_livestemp, NONE| phosphorusflux_vars%avail_retransp_patch, avail_retransp, NONE| nitrogenflux_vars%npool_to_livestemn_patch, npool_to_livestemn, NONE| phosphorusflux_vars%ppool_to_grainp_patch, ppool_to_grainp, NONE| nitrogenflux_vars%npool_to_grainn_storage_patch, npool_to_grainn_storage, NONE| nitrogenflux_vars%npool_to_frootn_storage_patch, npool_to_frootn_storage, NONE| phosphorusflux_vars%ppool_to_livecrootp_storage_patch, ppool_to_livecrootp_storage, NONE| carbonflux_vars%leaf_curmr_patch, leaf_curmr, NONE| carbonflux_vars%cpool_to_deadcrootc_patch, cpool_to_deadcrootc, NONE| nitrogenflux_vars%npool_to_livecrootn_storage_patch, npool_to_livecrootn_storage, NONE| carbonflux_vars%cpool_to_deadcrootc_storage_patch, cpool_to_deadcrootc_storage, NONE| phosphorusflux_vars%ppool_to_livecrootp_patch, ppool_to_livecrootp, NONE| phosphorusflux_vars%ppool_to_deadcrootp_storage_patch, ppool_to_deadcrootp_storage, NONE| carbonflux_vars%cpool_to_deadstemc_storage_patch, cpool_to_deadstemc_storage, NONE| phosphorusflux_vars%ppool_to_deadstemp_storage_patch, ppool_to_deadstemp_storage, NONE| phosphorusflux_vars%ppool_to_grainp_storage_patch, ppool_to_grainp_storage, NONE| carbonflux_vars%livestem_curmr_patch, livestem_curmr, NONE| nitrogenflux_vars%smin_no3_to_plant_vr_col, smin_no3_to_plant_vr, NONE| phosphorusflux_vars%ppool_to_livestemp_storage_patch, ppool_to_livestemp_storage, NONE| carbonflux_vars%cpool_to_livestemc_patch, cpool_to_livestemc, NONE| nitrogenflux_vars%sminn_to_npool_patch, sminn_to_npool, NONE| cnstate_vars%c_allometry_patch, c_allometry, NONE| phosphorusflux_vars%plant_palloc_patch, plant_palloc, NONE| phosphorusflux_vars%retransp_to_ppool_patch, retransp_to_ppool, NONE| nitrogenflux_vars%npool_to_livestemn_storage_patch, npool_to_livestemn_storage, NONE| carbonflux_vars%froot_curmr_patch, froot_curmr, NONE| nitrogenflux_vars%avail_retransn_patch, avail_retransn, NONE| carbonflux_vars%cpool_to_livecrootc_storage_patch, cpool_to_livecrootc_storage, NONE| nitrogenflux_vars%npool_to_deadstemn_patch, npool_to_deadstemn, NONE| carbonflux_vars%cpool_to_xsmrpool_patch, cpool_to_xsmrpool, NONE| carbonflux_vars%cpool_to_livestemc_storage_patch, cpool_to_livestemc_storage, NONE| nitrogenflux_vars%plant_n_uptake_flux, plant_n_uptake_flux, NONE| phosphorusflux_vars%ppool_to_leafp_patch, ppool_to_leafp, NONE| nitrogenflux_vars%npool_to_livecrootn_patch, npool_to_livecrootn, NONE| phosphorusflux_vars%ppool_to_frootp_storage_patch, ppool_to_frootp_storage, NONE| carbonflux_vars%cpool_to_grainc_storage_patch, cpool_to_grainc_storage, NONE| carbonflux_vars%availc_patch, availc, NONE| carbonflux_vars%excess_cflux_patch, excess_cflux, NONE| carbonflux_vars%cpool_to_frootc_patch, cpool_to_frootc, NONE| nitrogenflux_vars%npool_to_deadcrootn_storage_patch, npool_to_deadcrootn_storage, NONE| cnstate_vars%downreg_patch, downreg, NONE| nitrogenflux_vars%npool_to_frootn_patch, npool_to_frootn, NONE| carbonflux_vars%cpool_to_grainc_patch, cpool_to_grainc, NONE
global_non| c14_carbonflux_vars, c14cf, NONE| canopystate_vars%laisun_patch, laisun, NONE| canopystate_vars%laisha_patch, laisha, NONE| c13_carbonflux_vars, c13cf, NONE
calls, dynamic_plant_alloc, p2c, calc_nuptake_prof, calc_puptake_prof
readParams,readCNAllocParams
type(bounds_type)        , intent(in)    :: bounds
integer                  , intent(in)    :: num_soilc        ! number of soil columns in filter
integer                  , intent(in)    :: filter_soilc(:)  ! filter for soil columns
integer                  , intent(in)    :: num_soilp        ! number of soil patches in filter
integer                  , intent(in)    :: filter_soilp(:)  ! filter for soil patches
type(canopystate_type)   , intent(in)    :: canopystate_vars
type(cnstate_type)       , intent(inout) :: cnstate_vars
type(carbonstate_type)   , intent(in)    :: carbonstate_vars
type(carbonflux_type)    , intent(inout) :: carbonflux_vars
type(carbonflux_type)    , intent(inout) :: c13_carbonflux_vars
type(carbonflux_type)    , intent(inout) :: c14_carbonflux_vars
type(nitrogenstate_type) , intent(inout) :: nitrogenstate_vars
type(nitrogenflux_type)  , intent(inout) :: nitrogenflux_vars
type(phosphorusstate_type) , intent(inout) :: phosphorusstate_vars
type(phosphorusflux_type)  , intent(inout) :: phosphorusflux_vars
