sub_param, bounds, flg_snw_ice, coszen, h2osno_liq, snw_rds, flx_abs, h2osno_ice, filter_nourbanc, albout, waterstate_vars, num_nourbanc, mss_cnc_aer_in, albsfc, flg_slr_in
sub_out, albout, flx_abs
global_ro, grc%latdeg, grc%londeg, waterstate_vars%h2osno_col, col%gridcell, col%landunit, col%snl, lun%itype
global_wo
global_mod
global_non, waterstate_vars%frac_sno_eff_col
calls, endrun
readParams,
integer           , intent(in)  :: flg_snw_ice                                        ! flag: =1 when called from CLM, =2 when called from CSIM
type (bounds_type), intent(in)  :: bounds
integer           , intent(in)  :: num_nourbanc                                       ! number of columns in non-urban filter
integer           , intent(in)  :: filter_nourbanc(:)                                 ! column filter for non-urban points
real(r8)          , intent(in)  :: coszen         ( bounds%begc: )                    ! cosine of solar zenith angle for next time step (col) [unitless]
integer           , intent(in)  :: flg_slr_in                                         ! flag: =1 for direct-beam incident flux,=2 for diffuse incident flux
real(r8)          , intent(in)  :: h2osno_liq     ( bounds%begc: , -nlevsno+1: )      ! liquid water content (col,lyr) [kg/m2]
real(r8)          , intent(in)  :: h2osno_ice     ( bounds%begc: , -nlevsno+1: )      ! ice content (col,lyr) [kg/m2]
integer           , intent(in)  :: snw_rds        ( bounds%begc: , -nlevsno+1: )      ! snow effective radius (col,lyr) [microns, m^-6]
real(r8)          , intent(in)  :: mss_cnc_aer_in ( bounds%begc: , -nlevsno+1: , 1: ) ! mass concentration of all aerosol species (col,lyr,aer) [kg/kg]
real(r8)          , intent(in)  :: albsfc         ( bounds%begc: , 1: )               ! albedo of surface underlying snow (col,bnd) [frc]
real(r8)          , intent(out) :: albout         ( bounds%begc: , 1: )               ! snow albedo, averaged into 2 bands (=0 if no sun or no snow) (col,bnd) [frc]
real(r8)          , intent(out) :: flx_abs        ( bounds%begc: , -nlevsno+1: , 1: ) ! absorbed flux in each layer per unit flux incident (col, lyr, bnd)
type(waterstate_type) , intent(in)  :: waterstate_vars
