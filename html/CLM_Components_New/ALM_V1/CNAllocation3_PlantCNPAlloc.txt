sub_param, num_soilp, c13_carbonflux_vars, carbonflux_vars, cnstate_vars, filter_soilc, c14_carbonflux_vars, canopystate_vars, phosphorusflux_vars, nitrogenstate_vars, filter_soilp, num_soilc, nitrogenflux_vars, phosphorusstate_vars, carbonstate_vars, bounds
sub_out
global_ro, ecophyscon%woody, cnstate_vars%cp_scalar, phosphorusflux_vars%sminp_to_plant_col, pft%itype, ecophyscon%livewdcp, cnstate_vars%annmax_retransp_patch, cnstate_vars%fpg_col, carbonflux_vars%froot_mr_patch, nitrogenflux_vars%smin_nh4_to_plant_patch, cnstate_vars%froot_prof_patch, nitrogenstate_vars%leafn_patch, nitrogenstate_vars%retransn_patch, nitrogenflux_vars%sminn_to_plant_col, cnstate_vars%annsum_potential_gpp_patch, nitrogenflux_vars%plant_ndemand_patch, nitrogenstate_vars%leafn_xfer_patch, ecophyscon%deadwdcp, carbonflux_vars%leaf_mr_patch, ecophyscon%livewdcn, c14cf%psnshade_to_cpool_patch, c13cf%psnshade_to_cpool_patch, nitrogenflux_vars%sminn_to_plant_patch, ecophyscon%leafcn, carbonflux_vars%allocation_leaf, nitrogenflux_vars%smin_no3_to_plant_patch, cnstate_vars%croplive_patch, carbonflux_vars%livestem_mr_patch, pft%itype, ecophyscon%fcur, ecophyscon%graincp, ecophyscon%deadwdcn, nitrogenstate_vars%leafn_storage_patch, carbonstate_vars%leafc_storage_patch, ecophyscon%frootcn, carbonflux_vars%livecroot_mr_patch, cnstate_vars%fpg_p_col, ecophyscon%croot_stem, carbonflux_vars%allocation_froot, c13cf%psnsun_to_cpool_patch, c14cf%psnsun_to_cpool_patch, phosphorusstate_vars%retransp_patch, pft%wtcol, phosphorusflux_vars%sminp_to_plant_patch, ecophyscon%nstor, nitrogenstate_vars%npool_patch, carbonflux_vars%grain_mr_patch, ecophyscon%stem_leaf, carbonflux_vars%gpp_before_downreg_patch, cnstate_vars%aleaf_patch, carbonstate_vars%xsmrpool_patch, ecophyscon%leafcp, cnstate_vars%annmax_retransn_patch, carbonflux_vars%allocation_stem, phosphorusstate_vars%leafp_storage_patch, ecophyscon%flivewd, phosphorusstate_vars%leafp_patch, cnstate_vars%cn_scalar, carbonstate_vars%leafc_xfer_patch, cnstate_vars%grain_flag_patch, ecophyscon%graincn, carbonstate_vars%leafc_patch, carbonflux_vars%w_scalar_col, phosphorusstate_vars%leafp_xfer_patch, pft%column, ecophyscon%froot_leaf, cnstate_vars%astem_patch, phosphorusflux_vars%plant_pdemand_patch, carbonflux_vars%annsum_npp_patch, ecophyscon%frootcp
global_wo, carbonflux_vars%livestem_xsmr_patch, carbonflux_vars%froot_xsmr_patch, carbonflux_vars%grain_xsmr_patch, c14cf%psnshade_to_cpool_patch, c13cf%psnshade_to_cpool_patch, c13cf%psnsun_to_cpool_patch, c14cf%psnsun_to_cpool_patch, carbonflux_vars%leaf_xsmr_patch, carbonflux_vars%livecroot_xsmr_patch, carbonflux_vars%cpool_to_gresp_storage_patch
global_mod, phosphorusflux_vars%sminp_to_plant_vr_col, cnstate_vars%n_allometry_patch, carbonflux_vars%cpool_to_livecrootc_patch, phosphorusflux_vars%plant_p_uptake_flux, nitrogenflux_vars%npool_to_deadcrootn_patch, nitrogenflux_vars%npool_to_grainn_storage_patch, phosphorusflux_vars%ppool_to_livecrootp_storage_patch, carbonflux_vars%livestem_curmr_patch, carbonflux_vars%cpool_to_grainc_patch, phosphorusflux_vars%supplement_to_sminp_vr_col, carbonflux_vars%cpool_to_frootc_patch, carbonflux_vars%cpool_to_deadstemc_patch, nitrogenflux_vars%npool_to_frootn_storage_patch, nitrogenflux_vars%npool_to_leafn_patch, carbonflux_vars%excess_cflux_patch, nitrogenflux_vars%npool_to_livestemn_patch, carbonflux_vars%cpool_to_livecrootc_storage_patch, phosphorusflux_vars%ppool_to_livestemp_patch, carbonflux_vars%cpool_to_xsmrpool_patch, carbonflux_vars%availc_patch, cnstate_vars%downreg_patch, phosphorusflux_vars%ppool_to_deadstemp_patch, carbonflux_vars%cpool_to_frootc_storage_patch, carbonflux_vars%cpool_to_deadstemc_storage_patch, nitrogenflux_vars%supplement_to_sminn_vr_col, carbonflux_vars%psnsun_to_cpool_patch, carbonflux_vars%cpool_to_leafc_patch, phosphorusflux_vars%sminp_to_ppool_patch, carbonflux_vars%livecroot_curmr_patch, phosphorusflux_vars%ppool_to_livestemp_storage_patch, phosphorusflux_vars%ppool_to_leafp_patch, carbonflux_vars%cpool_to_deadcrootc_storage_patch, phosphorusflux_vars%ppool_to_frootp_storage_patch, phosphorusflux_vars%retransp_to_ppool_patch, carbonflux_vars%leaf_curmr_patch, phosphorusflux_vars%ppool_to_grainp_storage_patch, nitrogenflux_vars%sminn_to_plant_vr_col, carbonflux_vars%cpool_to_grainc_storage_patch, nitrogenflux_vars%npool_to_deadstemn_storage_patch, nitrogenflux_vars%npool_to_leafn_storage_patch, nitrogenflux_vars%plant_n_uptake_flux, carbonflux_vars%plant_calloc_patch, nitrogenflux_vars%npool_to_livecrootn_patch, carbonflux_vars%grain_curmr_patch, phosphorusflux_vars%ppool_to_grainp_patch, nitrogenflux_vars%npool_to_grainn_patch, phosphorusflux_vars%plant_palloc_patch, nitrogenflux_vars%plant_nalloc_patch, phosphorusflux_vars%ppool_to_livecrootp_patch, nitrogenflux_vars%retransn_to_npool_patch, nitrogenflux_vars%npool_to_deadstemn_patch, phosphorusflux_vars%ppool_to_leafp_storage_patch, nitrogenflux_vars%smin_no3_to_plant_vr_col, cnstate_vars%p_allometry_patch, carbonflux_vars%psnshade_to_cpool_patch, phosphorusflux_vars%ppool_to_frootp_patch, phosphorusflux_vars%avail_retransp_patch, carbonflux_vars%froot_curmr_patch, nitrogenflux_vars%smin_nh4_to_plant_vr_col, nitrogenflux_vars%avail_retransn_patch, carbonflux_vars%cpool_to_livestemc_patch, nitrogenflux_vars%npool_to_frootn_patch, nitrogenflux_vars%sminn_to_npool_patch, carbonflux_vars%cpool_to_deadcrootc_patch, phosphorusflux_vars%ppool_to_deadstemp_storage_patch, cnstate_vars%c_allometry_patch, nitrogenflux_vars%npool_to_livecrootn_storage_patch, carbonflux_vars%xsmrpool_recover_patch, carbonflux_vars%cpool_to_leafc_storage_patch, nitrogenflux_vars%npool_to_deadcrootn_storage_patch, phosphorusflux_vars%ppool_to_deadcrootp_storage_patch, phosphorusflux_vars%ppool_to_deadcrootp_patch, carbonflux_vars%cpool_to_livestemc_storage_patch, nitrogenflux_vars%npool_to_livestemn_storage_patch
global_non, canopystate_vars%laisun_patch, c13_carbonflux_vars, canopystate_vars%laisha_patch, c14_carbonflux_vars
calls, calc_puptake_prof, dynamic_plant_alloc, p2c, calc_nuptake_prof
readParams,readCNAllocParams
type(bounds_type)        , intent(in)    :: bounds
integer                  , intent(in)    :: num_soilc        ! number of soil columns in filter
integer                  , intent(in)    :: filter_soilc(:)  ! filter for soil columns
integer                  , intent(in)    :: num_soilp        ! number of soil patches in filter
integer                  , intent(in)    :: filter_soilp(:)  ! filter for soil patches
type(canopystate_type)   , intent(in)    :: canopystate_vars
type(cnstate_type)       , intent(inout) :: cnstate_vars
type(carbonstate_type)   , intent(in)    :: carbonstate_vars
type(carbonflux_type)    , intent(inout) :: carbonflux_vars
type(carbonflux_type)    , intent(inout) :: c13_carbonflux_vars
type(carbonflux_type)    , intent(inout) :: c14_carbonflux_vars
type(nitrogenstate_type) , intent(inout) :: nitrogenstate_vars
type(nitrogenflux_type)  , intent(inout) :: nitrogenflux_vars
type(phosphorusstate_type) , intent(inout) :: phosphorusstate_vars
type(phosphorusflux_type)  , intent(inout) :: phosphorusflux_vars
